<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>存储</title>
    <style>
        body>*{
            float: left;
        }
        table{
            border-collapse: collapse;
            margin-left: 50px;
        }
        th,td{
            padding: 4px;
        }
        th{
            text-align: right;
        }
        input{
            padding: 2px;
        }
        label{
            min-width: 50px;
            text-align: right;
            display: inline-block;
        }
        #btns,#count{
            margin: 5px 0 5px 50px;
        }
    </style>
</head>
<body>
<div>
    <div>
        <div><label>Key:</label><input type="text" id="key" placeholder="Enter Key"/></div>
        <div><label>value:</label><input type="text" id="value" placeholder="Enter Value"/></div>
        <div id="btns">
            <button id="add">ADD</button>
            <button id="clear">CLEAR</button>
        </div>
        <p id="countmsg">There are<span id="count"></span>items!</p>
    </div>
    <!--<table border="1" id="data">
        <tr><th>Items count</th><td id="count">-</td></tr>
    </table>-->
</div>
<script type="text/javascript">
    displayData();
    var btns=document.getElementsByTagName("button");
    for(var i=0;i<btns.length;i++){
        btns[i].onclick=handelButtonPress;
    }
    function handleButtonPress(e){
        switch(e.target.id){
            case 'add':
                var key=document.getElementById("key").innerHTML;
                var value=document.getElementById("value").innerHTML;
                localStorage.setItem(key,value);
                break;
            case 'clear':
                localStorage.clear();
                break;
        }
    displayData();
    }
    function displayData(){
        document.getElementById('count').innerHTML=localStorage.length;
    }
</script>
</body>
</html>