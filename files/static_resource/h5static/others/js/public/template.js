!function(){function e(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,t){function r(n){return f+=n.split(/\n/).length-1,s&&(n=n.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),n&&(n=m[1]+e(n)+m[2]+"\n"),n}function a(e){var n=f;if(l?e=l(e,t):i&&(e=e.replace(/\n/g,function(){return f++,"$line="+f+";"})),0===e.indexOf("=")){var r=u&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),r){var a=e.replace(/\s*\([^\)]+\)/,"");p[a]||/^(include|print)$/.test(a)||(e="$escape("+e+")")}else e="$string("+e+")";e=m[1]+e+m[2]}return i&&(e="$line="+n+";"+e),h(E(e),function(e){if(e&&!d[e]){var n;n="print"===e?y:"include"===e?b:p[e]?"$utils."+e:$[e]?"$helpers."+e:"$data."+e,w+=e+"="+n+",",d[e]=!0}}),e+"\n"}var i=t.debug,o=t.openTag,c=t.closeTag,l=t.parser,s=t.compress,u=t.escape,f=1,d={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,m=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],v=g?"$out+=text;return $out;":"$out.push(text);",y="function(){var text=''.concat.apply('',arguments);"+v+"}",b="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+v+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(i?"$line=0,":""),x=m[0],j="return new String("+m[3]+");";h(n.split(o),function(e){e=e.split(c);var n=e[0],t=e[1];1===e.length?x+=r(n):(x+=a(n),t&&(x+=r(t)))});var T=w+x+j;i&&(T="try{"+T+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var k=new Function("$data","$filename",T);return k.prototype=p,k}catch(E){throw E.temp="function anonymous($data,$filename) {"+T+"}",E}}var t=function(e,n){return"string"==typeof n?g(n,{filename:e}):i(e,n)};t.version="3.0.0",t.config=function(e,n){r[e]=n};var r=t.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},a=t.cache={};t.render=function(e,n){return g(e)(n)};var i=t.renderFile=function(e,n){var r=t.get(e)||d({filename:e,name:"Render Error",message:"Template not found"});return n?r(n):r};t.get=function(e){var n;if(a[e])n=a[e];else if("object"==typeof document){var t=document.getElementById(e);if(t){var r=(t.value||t.innerHTML).replace(/^\s*|\s*$/g,"");n=g(r,{filename:e})}}return n};var o=function(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?o(e.call(e)):""),e},c={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},l=function(e){return c[e]},s=function(e){return o(e).replace(/&(?![\w#]+;)|[<>"']/g,l)},u=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},f=function(e,n){var t,r;if(u(e))for(t=0,r=e.length;r>t;t++)n.call(e,e[t],t,e);else for(t in e)n.call(e,e[t],t)},p=t.utils={$helpers:{},$include:i,$string:o,$escape:s,$each:f};t.helper=function(e,n){$[e]=n};var $=t.helpers=p.$helpers;t.onerror=function(e){var n="Template Error\n\n";for(var t in e)n+="<"+t+">\n"+e[t]+"\n\n";"object"==typeof console&&console.error(n)};var d=function(e){return t.onerror(e),function(){return"{Template Error}"}},g=t.compile=function(e,t){function i(n){try{return new l(n,c)+""}catch(r){return t.debug?d(r)():(t.debug=!0,g(e,t)(n))}}t=t||{};for(var o in r)void 0===t[o]&&(t[o]=r[o]);var c=t.filename;try{var l=n(e,t)}catch(e){return e.filename=c||"anonymous",e.name="Syntax Error",d(e)}return i.prototype=l.prototype,i.toString=function(){return l.toString()},c&&t.cache&&(a[c]=i),i},h=p.$each,m="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",v=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,y=/[^\w$]+/g,b=new RegExp(["\\b"+m.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,j=/^$|,+/;r.openTag="{{",r.closeTag="}}";var T=function(e,n){var t=n.split(":"),r=t.shift(),a=t.join(":")||"";return a&&(a=", "+a),"$helpers."+r+"("+e+a+")"};r.parser=function(e,n){e=e.replace(/^\s/,"");var r=e.split(" "),a=r.shift(),i=r.join(" ");switch(a){case"if":e="if("+i+"){";break;case"else":r="if"===r.shift()?" if("+r.join(" ")+")":"",e="}else"+r+"{";break;case"/if":e="}";break;case"each":var o=r[0]||"$data",c=r[1]||"as",l=r[2]||"$value",s=r[3]||"$index",u=l+","+s;"as"!==c&&(o="[]"),e="$each("+o+",function("+u+"){";break;case"/each":e="});";break;case"echo":e="print("+i+");";break;case"print":case"include":e=a+"("+r.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(i)){var f=!0;0===e.indexOf("#")&&(e=e.substr(1),f=!1);for(var p=0,$=e.split("|"),d=$.length,g=$[p++];d>p;p++)g=T(g,$[p]);e=(f?"=":"=#")+g}else e=t.helpers[a]?"=#"+a+"("+r.join(",")+");":"="+e}return e},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t:"function"==typeof define?define(function(){return t}):this.template=t}();