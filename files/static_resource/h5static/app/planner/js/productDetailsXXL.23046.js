webpackJsonp([7],{364:function(e,t,a){e.exports=a(365)},365:function(e,t,a){"use strict";function n(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}a(366);var i=a(12),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(6),l=(0,d.default)("#wrapper"),o=(0,d.default)("body").width(),r={calData:{rate:0,chargeRate:0,period:0},getData:function(e){return s.Tools.AJAXTOKEN({url:s.G.base+"/capp/sesame/detail.ason",type:"post",data:{sesameCode:e}})},renderHtml:function(e){var t="";return e&&(t='<div class="content">\n                <header>\n                    \n                    <div class="product-feature">\n                        <p class="product-rate">'+(e.expectAnnualRate.indexOf("~")>0?e.expectAnnualRate.replace(/(.*)~(.*)/g,"$1<span>%</span>~$2<span>%</span>"):e.expectAnnualRate+"<span>%</span>")+'</p>\n                        <p class="product-rate-title"><span>预期年化收益率</span></p>\n                    </div>\n                    <div class="product-info">\n                        <dl>\n                            <dt><span>'+e.sesameTerm+"</span>"+e.sesameTermUnitStr+"</dt>\n                            <dd>期限</dd>\n                        </dl>\n                        <dl>\n                            <dt><span>"+e.minSubcribeAmount+"</span>"+e.currencyUnit+'</dt>\n                            <dd>起投金额(元)</dd>\n                        </dl>\n                    </div>\n                    <div class="product-status">'+e.sesameRaiseStatus+"</div>\n                </header>\n                "+(e.sesameRemark?'<div class="product-comment">\n                    <p><span>点评</span>'+e.sesameRemark+"</p>\n                </div>":"")+"\n                "+(e.cashBack?'<div class="item mt20 noBorder">\n                    <div>\n                        <span>'+e.cashBack+'</span>\n                        <span class="yellow">返现活动</span>\n                    </div>\n    \n                </div>':"")+"\n                "+e.sesameinfo.map(function(t,a){var n=e.sesameinfo.length;return'<div class="item '+(0===a?"mt20":n===a+1?" noBorder":"")+'"><div><span '+(1===a?'class="small"':"")+">"+(t.value||"")+"</span><span>"+t.key+"</span></div></div>"}).join("")+'\n                <div class="item mt20 link">\n                    <div>\n                        <a data-href="productLinkContent.html?type=bright&sesameCode='+e.sesameCode+'" href="javascript:void(0)" class="bridgeRedirect">\n                            <i></i>\n                            <span>项目亮点</span>\n                        </a>\n                    </div>\n                </div>\n                '+(e.sesameMaterials&&e.sesameMaterials.length>0?""+e.sesameMaterials.map(function(e,t){return'<div class="item link">\n                    <div>\n                        <a data-href="'+e.materialUrl+'" href="javascript:void(0)" class="bridgeRedirect">\n                            <i></i>\n                            <span>'+e.materialName+"</span>\n                        </a>\n                    </div>\n                </div>"}).join(""):"")+'\n                <div class="item noBorder link">\n                    <div>\n                        <a data-href="productLinkContent.html?type=risk&sesameCode='+e.sesameCode+'" href="javascript:void(0)" class="bridgeRedirect">\n                            <i></i>\n                            <span>风险揭示</span>\n                        </a>\n                    </div>\n                </div>\n                <div class="tips">市场有风险 投资需谨慎</div>\n            </div>'),t},bindEvent:function(){var e=this;(0,d.default)(document).on("click",".bridgeRedirect",function(){var e=(0,d.default)(this).attr("data-href"),t=location.pathname.split("/"),a="";t.pop(),a=t.join("/"),e.indexOf("http")>-1?s.Tools.bridgeRedirect(e):s.Tools.bridgeRedirect(location.origin+a+"/"+e)});var t=null;(0,d.default)(document).on("click","#calculator",function(){(0,s.Dialog)({id:"cal",skin:"calculator",title:"服务费计算器",padding:0,width:o,content:'<dl class="calculatorItem clearfix inputItem">\n                                <dd><span class="unit">元</span><i class="input-del"></i><input type="number" autofocus name="buyAmount" id="buyAmount" placeholder="请输入出借金额" maxlength="8"  oninput="this.value=this.value.replace(/\\D/g,\'\');if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"></dd>\n                                <dt>出借金额</dt>\n                            </dl>\n                            <dl class="calculatorItem clearfix">\n                                <dd class="red"><strong id="returnAmount">0.00</strong>元</dd>\n                                <dt>客户收益</dt>\n                            </dl>\n                            <dl class="calculatorItem clearfix" style="overflow: hidden">\n                                <dd class="red"><strong id="charge">0.00</strong>元</dd>\n                                <dt>推荐服务费</dt>\n                            </dl>',onshow:function(){(0,d.default)(".ui-popup-backdrop").addClass("popupGradient"),n()?((0,d.default)(".tips").addClass("show-modal"),t=setInterval(function(){document.body.scrollTop=document.body.scrollHeight},150)):((0,d.default)("body").addClass("modal-open"),(0,d.default)(".ui-popup[aria-labelledby='title:cal']").css({position:"fixed",bottom:"0"}))},onbeforeremove:function(){n()?(clearInterval(t),(0,d.default)(".tips").removeClass("show-modal")):(0,d.default)("body").removeClass("modal-open")}}).showModal()}),(0,d.default)(document).on("focus",".inputItem input",function(){(0,d.default)(this).siblings("i.input-del").show()}),(0,d.default)(document).on("blur",".inputItem input",function(){var e;return function(){var t=this;(0,d.default)(this).attr("data-del",0),e=setTimeout(function(){0==(0,d.default)(t).attr("data-del")&&(0,d.default)(t).siblings("i.input-del").hide()},200)}}()),(0,d.default)(document).on("touchend",".input-del",function(e){return(0,d.default)(this).siblings("input").eq(0).val("").attr("data-del",1).trigger("change").focus(),e.stopPropagation(),!1});var a=(0,d.default)(window).height();(0,d.default)(window).resize(function(){var e=(0,d.default)(this).height();a-e>50?(0,d.default)("body").css("height",a+"px"):(0,d.default)("body").css("height","100%")}),(0,d.default)(document).on("input change","#buyAmount",function(){var t=(0,d.default)(this).val(),a=(0,d.default)("#returnAmount"),n=(0,d.default)("#charge"),i=e.calData.rate,l=e.calData.chargeRate,o=e.calData.period;if(t){var r=void 0;if(i.indexOf("~")>-1){var u=i.replace(/(.*)~(.*)/g,"$1"),c=i.replace(/(.*)~(.*)/g,"$2");r=s.CALC.div(s.CALC.mul(s.CALC.mul(t,o),u),1200).toFixed(2)+"-"+s.CALC.div(s.CALC.mul(s.CALC.mul(t,o),c),1200).toFixed(2)}else r=s.CALC.div(s.CALC.mul(s.CALC.mul(t,o),i),1200).toFixed(2);var p=s.CALC.div(s.CALC.mul(s.CALC.mul(t,o),l),1200).toFixed(2);a.html(r),n.html(p)}else a.html("0.00"),n.html("0.00")})},init:function(){var e=s.Tools.queryUrl(location.href),t=e.sesameCode,a=this;if(!t)return s.Tools.toast("缺少参数sesameCode");this.getData(t).then(function(e){if("0"==e.code)return s.Tools.toast(e.msg);if(e.data){var t=e.data,n=a.renderHtml(t);l.append(n),a.calData.rate=t.expectAnnualRate,a.calData.chargeRate=t.chargeRate,a.calData.period=t.sesameTerm,s.Tools.setTitle(t.sesameName),a.bindEvent()}})}};(0,d.default)(document).ready(function(){r.init(),function(){var e=navigator.userAgent.toLowerCase(),t=null;(e.indexOf("iphone")>=0||e.indexOf("ipad")>=0)&&document.body.addEventListener("touchend",function(e){var a=(new Date).getTime();t=t||a+1;var n=a-t;if(n<500&&n>0)return e.preventDefault(),!1;t=a},!1)}()})},366:function(e,t){}},[364]);