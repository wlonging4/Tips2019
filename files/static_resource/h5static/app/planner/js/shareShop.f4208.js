webpackJsonp([4],{370:function(e,t,a){e.exports=a(371)},371:function(e,t,a){"use strict";a(372);var l=a(12),d=function(e){return e&&e.__esModule?e:{default:e}}(l),s=a(6);~function(e,t){function a(){h+=6,v+=1,v>=30&&(v=30,clearInterval(p),m=setInterval(l,1e3)),(0,d.default)("#timeNum .time").html(60-v),(0,d.default)(".pie1").css("transform","rotate("+h+"deg)"),(0,d.default)(".pie1").css("-webkit-transform","rotate("+h+"deg)")}function l(){c+=6,v+=1,v>=60&&(v=60,clearInterval(m),(0,d.default)("#timeNum").removeClass("show"),(0,d.default)("#getCode").removeClass("hide"),h=0,c=0,v=0,(0,d.default)(".pie1").css("transform","rotate(0deg)"),(0,d.default)(".pie1").css("-webkit-transform","rotate(0deg)"),(0,d.default)(".pie2").css("transform","rotate(0deg)"),(0,d.default)(".pie2").css("-webkit-transform","rotate(0deg)")),(0,d.default)("#timeNum .time").html(60-v),(0,d.default)(".pie2").css("transform","rotate("+c+"deg)"),(0,d.default)(".pie2").css("-webkit-transform","rotate("+c+"deg)")}function o(e){for(var t=e.split(""),a="",l=0;l<t.length;l++)" "!=t[l]&&(a+=t[l]);return a}var i=s.Tools.queryUrl(decodeURI(location.href));if(!i.storeCode)return void s.Tools.toast("参数错误");var u=i.storeCode,r=void 0,n=void 0;s.Tools.AJAX({url:s.G.base+"/store/getStoreByStoreCode",type:"post",data:{storeCode:u},success:function(e){if("1"!=e.code)return void s.Tools.toast("接口请求失败，请刷新重试！");if(n=e.data,r=n.id,(0,d.default)("#userHead").attr("src",n.accountimg),n.realName.length>8&&n.realName.length<=10&&(0,d.default)(".userName p").addClass("mini2"),n.realName.length>10&&(0,d.default)(".userName p").addClass("mini1"),(0,d.default)("#userName").html(n.realName),(0,d.default)("#userTel").html(n.tel),(0,d.default)(".head-des").html(n.introduction),(0,d.default)("#phone").attr("href","tel:"+n.tel),n.regRedEnveAmount?((0,d.default)(".login-redbag").html("注册即得总面值 <span>"+n.regRedEnveAmount+" </span> 元红包"),(0,d.default)(".okay-redbag").html("您已获得总面值 <span id='shadow-num'>"+n.regRedEnveAmount+" </span> 元红包")):((0,d.default)(".login-redbag").html("为您提供全球资产配置服务"),(0,d.default)(".okay-redbag").html(" ")),n.result.length){(0,d.default)(".product").show();var t="";t=n.result.map(function(e){return'<li>\n                    <div class="pro_tit">'+e.productName+'</div>\n                    <div class="pro_left">\n                        <div class="pro_left_rate">'+e.annualRate+'<em>%</em></div>\n                        <div class="pro_des">参考年回报率</div>\n                    </div>\n                    <div class="pro_right">\n                        <div class="pro_right_rate">'+e.productPeriod+'<em>天</em></div>\n                        <div class="pro_des">出借天数</div>\n                    </div>\n                </li>'}).join(""),(0,d.default)("#proList").html(t)}else(0,d.default)(".product").hide()}});var f=0;(0,d.default)("#ipt1").on("input",function(){var e=this.value.length;e?(0,d.default)(".delete1").removeClass("hide"):(0,d.default)(".delete1").addClass("hide"),e>f?3!=e&&8!=e||(this.value=this.value+" "):3!=e&&8!=e||(this.value=this.value.slice(0,e-1),e=this.value.length),f=e,(0,d.default)(this).val(this.value)}),(0,d.default)("#ipt2").on("input",function(){var e=this.value.length;e?(0,d.default)(".eye").removeClass("hide"):(0,d.default)(".eye").addClass("hide"),e?(0,d.default)(".delete2").removeClass("hide"):(0,d.default)(".delete2").addClass("hide")}),(0,d.default)(".eye").on("click",function(){(0,d.default)(this).hasClass("eyeSee")?((0,d.default)("#ipt2").prop("type","password"),(0,d.default)(this).removeClass("eyeSee")):((0,d.default)("#ipt2").prop("type","text"),(0,d.default)(this).addClass("eyeSee"))}),(0,d.default)("#ipt3").on("input",function(){this.value.length?(0,d.default)(".delete3").removeClass("hide"):(0,d.default)(".delete3").addClass("hide")}),(0,d.default)("#ipt4").on("input",function(){var e=this.value.replace(/\D/g,"");this.value=e,this.value.length?(0,d.default)(".delete4").removeClass("hide"):(0,d.default)(".delete4").addClass("hide")}),(0,d.default)(".delete1").on("mousedown",function(e){(0,d.default)("#ipt1").val(""),f=0,(0,d.default)(this).addClass("hide"),e.stopPropagation()}),(0,d.default)(".delete2").on("mousedown",function(){(0,d.default)("#ipt2").val("").prop("type","password"),(0,d.default)(this).addClass("hide"),(0,d.default)(".eye").addClass("hide").removeClass("eyeSee")}),(0,d.default)(".delete3").on("mousedown",function(){(0,d.default)("#ipt3").val(""),(0,d.default)(this).addClass("hide")}),(0,d.default)(".delete4").on("mousedown",function(){(0,d.default)("#ipt4").val(""),(0,d.default)(this).addClass("hide")}),(0,d.default)("input").on("focus",function(){(0,d.default)(this).parent().addClass("lineGolden"),(0,d.default)(this).val()&&(0,d.default)(this).parent().find(".delete").removeClass("hide")}).on("blur",function(){(0,d.default)(this).parent().removeClass("lineGolden"),(0,d.default)(this).val()&&(0,d.default)(this).parent().find(".delete").addClass("hide")});var h=0,c=0,v=0,p=void 0,m=void 0;(0,d.default)("#getCode").on("click",function(){if(!(0,d.default)("#ipt1").val())return void s.Tools.toast("请输入手机号");var e=o((0,d.default)("#ipt1").val());if(!/^1[3,4,5,6,7,8,9]{1}[0-9]{9}$/.test(e))return void s.Tools.toast("手机号格式不正确");var t=(0,d.default)("#ipt3").val();if(!t)return void s.Tools.toast("请输入图片验证码");s.Tools.AJAX({url:s.G.base+"/user/mobileCaptchaSend",type:"post",data:{mobile:e,captcha:t},success:function(e){"1"==e.code?((0,d.default)("#getCode").addClass("hide"),(0,d.default)("#timeNum").addClass("show"),p=setInterval(a,1e3)):(s.Tools.toast(e.msg),(0,d.default)("#changeImg img").attr("src",s.G.base+"/user/captchImg?"+Math.random()))}})}),(0,d.default)("body").on("input","#ipt1,#ipt2,#ipt3,#ipt4",function(){var e=o((0,d.default)("#ipt1").val()),t=(0,d.default)("#ipt2").val(),a=(0,d.default)("#ipt3").val(),l=(0,d.default)("#ipt4").val();e.length&&t.length&&a.length&&l.length&&(0,d.default)(".check").hasClass("checked")?(0,d.default)("#registerNow").removeClass("disabled"):(0,d.default)("#registerNow").addClass("disabled")}),(0,d.default)("#registerNow").on("click",function(){if(!(0,d.default)(this).hasClass("disabled")){var e=o(d.default.trim((0,d.default)("#ipt1").val())),t=(0,d.default)("#ipt2").val(),a=((0,d.default)("#ipt3").val(),(0,d.default)("#ipt4").val());if(!(0,d.default)("#protocol").hasClass("checked"))return void s.Tools.toast("请阅读并同意《星火注册协议》");if(e.match(/^1[3,4,5,6,7,8,9]{1}[0-9]{9}$/))if(t.match(/^(?!\d+$)(?![a-zA-Z]+$)[0-9a-zA-Z]{6,18}$/)){var l={mobile:e,password:t,mobileCaptcha:a,storeId:r,regFrom:1};(0,d.default)("#registerNow").addClass("disabled"),s.Tools.AJAX({type:"post",url:s.G.base+"/user/register",data:l,success:function(e){(0,d.default)("#registerNow").removeClass("disabled"),"1"==e.code?(0,d.default)(".shadow").addClass("show"):(s.Tools.toast(e.msg),(0,d.default)("#ipt4").val(""),(0,d.default)("#registerNow").addClass("disabled"),(0,d.default)("#getCode").removeClass("hide"),(0,d.default)("#timeNum").removeClass("show"),(0,d.default)("#changeImg img").attr("src",s.G.base+"/user/captchImg?"+Math.random())),clearInterval(p),clearInterval(m),h=0,c=0,v=0},error:function(){(0,d.default)("#registerNow").removeClass("disabled"),s.Tools.toast("注册异常，请稍后再试")}})}else s.Tools.toast("密码需为6-18位数字与字母组合");else s.Tools.toast("手机号格式不正确")}}),(0,d.default)("#changeImg").on("click",function(){(0,d.default)("#changeImg img").attr("src",s.G.base+"/user/captchImg?"+Math.random())}),(0,d.default)(".check").off().on("click",function(){if((0,d.default)(this).toggleClass("checked"),(0,d.default)(this).hasClass("checked")){var e=o((0,d.default)("#ipt1").val()),t=(0,d.default)("#ipt2").val(),a=(0,d.default)("#ipt3").val(),l=(0,d.default)("#ipt4").val();if(!(e.length&&t.length&&a.length&&l.length))return;(0,d.default)("#registerNow").removeClass("disabled")}else(0,d.default)("#registerNow").addClass("disabled")})}(window,document)},372:function(e,t){}},[370]);