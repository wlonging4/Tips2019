webpackJsonp([8],{356:function(a,t,n){a.exports=n(357)},357:function(a,t,n){"use strict";function e(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}n(44);var i=n(12),d=function(a){return a&&a.__esModule?a:{default:a}}(i),l=n(6),s=(0,d.default)("#wrapper"),o=(0,d.default)("body").width();({calData:{rate:0,chargeRate:0,period:0},getData:function(a){return l.Tools.AJAXTOKEN({url:l.G.base+"/capp/product/detail.ason",type:"post",data:{productId:a}})},renderHtml:function(a){var t="";return a&&(t='<div class="content">\n                <header>\n                    <div class="product-feature">\n                        <p class="product-rate">'+a.annualRate+"<span>"+(a.variableAnnualRate?"%+"+a.variableAnnualRate+"%":"%")+'</span></p>\n                        <p class="product-rate-title"><span>参考年回报率</span><i id="notice">?</i></p>\n                        <p class="product-label"><em>宜信优质债权</em></p>\n                    </div>\n                    <div class="product-info">\n                        <dl>\n                            <dt>'+a.productPeriod+"</dt>\n                            <dd>出借天数(天)</dd>\n                        </dl>\n                        <dl>\n                            <dt>"+l.Tools.formatNumber(a.minAmout)+"-"+l.Tools.formatNumber(a.maxAmount)+'</dt>\n                            <dd>出借金额(元)</dd>\n                        </dl>\n                    </div>\n                </header>\n                <div class="date-box">\n                    <div class="date-item">\n                        <p class="date-title">起息日</p>\n                        <div class="date-progress">\n                            <i></i>\n                            <span></span>\n                        </div>\n                        <p class="date-content">'+a.effectDate+'</p>\n                    </div>\n                    <div class="date-item flex3">\n                        <p class="date-title right"><span>授权到期日</span></p>\n                        <div class="date-progress">\n                            <i class="right r50"></i>\n                            <span></span>\n                        </div>\n                        <p class="date-content right"><span>'+a.callDate+'</span></p>\n                    </div>\n                    <div class="date-item">\n                        <p class="date-title right grey">预计回款日</p>\n                        <div class="date-progress">\n                            <i class="right grey"></i>\n                            <span class="grey"></span>\n                        </div>\n                        <p class="date-content right grey">'+a.expectCallDate+'</p>\n                    </div>\n                </div>\n    \n                <div class="item mt20 noBorder">\n                    <div>\n                        <span class="yellow">'+(a.floatChargeRate?'<i class="bigger">'+l.CALC.add(a.baseChargeRate,a.floatChargeRate)+"</i>%":'<i class="bigger">'+a.baseChargeRate+"</i>%")+'</span>\n                        <span>推荐服务费率(年化)</span>\n                    </div>\n                </div>\n                <div class="item mt20">\n                    <div>\n                        <span>'+a.callDateType+'</span>\n                        <span>到期回款方式</span>\n                    </div>\n                </div>\n                <div class="item">\n                    <div>\n                        <span>'+a.currency+'</span>\n                        <span>币种</span>\n                    </div>\n    \n                </div>\n                <div class="item">\n                    <div>\n                        <span>'+a.lockupPeriod+'</span>\n                        <span>锁定期</span>\n                    </div>\n                </div>\n                <div class="item noBorder">\n                    <div>\n                        <span>'+a.serviceCharge+'</span>\n                        <span>手续费</span>\n                    </div>\n                </div>\n                <div class="item mt20 noBorder link">\n                    <div>\n                        <a data-href="securityMechanism.html" href="javascript:void(0)" class="bridgeRedirect">\n                            <i></i>\n                            <span>保障机制</span>\n                        </a>\n                    </div>\n                </div>\n                <div class="tips">网贷有风险 出借需谨慎</div>\n\n            </div>\n            <div class="footer fix_iphonex">\n                <a href="javascript:void (0)" class="shareBtn" id="shareBtn">立即分享</a>\n                \x3c!--<a href="javascript:void (0)" class="calculator" id="calculator"><i></i>计算器</a>--\x3e\n            </div>'),t},bindEvent:function(a){var t=this;(0,d.default)(document).on("click","#notice",function(){l.Tools.dialogAlert({content:"未发生《风险揭示书》项下风险且<br/>《借款协议》及相关协议正常履行<br/>完毕后期待获得的收益与出借（或<br/>受让）本金的比率，据此换算成的<br/>年回报率。",confirm:"知道了"})}),(0,d.default)(document).on("click",".bridgeRedirect",function(){var a=(0,d.default)(this).attr("data-href"),t=location.pathname.split("/"),n="";t.pop(),n=t.join("/"),l.Tools.bridgeRedirect(location.origin+n+"/"+a)});var n=null;(0,d.default)(document).on("click","#calculator",function(){(0,l.Dialog)({id:"cal",skin:"calculator",title:"服务费计算器",padding:0,width:o,content:'<dl class="calculatorItem clearfix inputItem">\n                            <dd><span class="unit">元</span><i class="input-del"></i><input type="number" name="buyAmount" autofocus id="buyAmount" placeholder="请输入出借金额" maxlength="8"  oninput="this.value=this.value.replace(/\\D/g,\'\');if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"></dd>\n\n                            <dt>出借金额</dt>\n                        </dl>\n                        <dl class="calculatorItem clearfix">\n                            <dd class="red"><strong id="returnAmount">0.00</strong>元</dd>\n                            <dt>客户收益</dt>\n                        </dl>\n                        <dl class="calculatorItem clearfix" style="overflow: hidden">\n                            <dd class="red"><strong id="charge">0.00</strong>元</dd>\n                            <dt>推荐服务费</dt>\n                        </dl>',onshow:function(){(0,d.default)(".ui-popup-backdrop").addClass("popupGradient"),e()?((0,d.default)(".tips").addClass("show-modal"),n=setInterval(function(){document.body.scrollTop=document.body.scrollHeight},150)):((0,d.default)("body").addClass("modal-open"),(0,d.default)(".ui-popup[aria-labelledby='title:cal']").css({position:"fixed",bottom:"0"}))},onbeforeremove:function(){e()?(clearInterval(n),(0,d.default)(".tips").removeClass("show-modal")):(0,d.default)("body").removeClass("modal-open")}}).showModal()}),(0,d.default)(document).on("focus",".inputItem input",function(){(0,d.default)(this).siblings("i.input-del").show()}),(0,d.default)(document).on("blur",".inputItem input",function(){var a;return function(){var t=this;(0,d.default)(this).attr("data-del",0),a=setTimeout(function(){0==(0,d.default)(t).attr("data-del")&&(0,d.default)(t).siblings("i.input-del").hide()},200)}}()),(0,d.default)(document).on("touchend",".input-del",function(a){return(0,d.default)(this).siblings("input").eq(0).val("").attr("data-del",1).trigger("change").focus(),a.stopPropagation(),!1}),(0,d.default)(document).on("input change","#buyAmount",function(){var a=(0,d.default)(this).val(),n=(0,d.default)("#returnAmount"),e=(0,d.default)("#charge"),i=t.calData.rate,s=t.calData.chargeRate,o=t.calData.period;if(a){var r=l.CALC.div(l.CALC.mul(l.CALC.mul(a,o),i),36500).toFixed(2),c=l.CALC.div(l.CALC.mul(l.CALC.mul(a,o),s),36500).toFixed(2);n.html(r),e.html(c)}else n.html("0.00"),e.html("0.00")}),(0,d.default)(document).on("click","#shareBtn",function(){l.Tools.SHARE({shareType:"all",shareTitle:"星火金服-宜信®优质债权",shareContent:a.productName+"，参考年回报率"+(a.variableAnnualRate?a.annualRate+"%+"+a.variableAnnualRate+"%":a.annualRate+"%")+"，"+a.minAmout+"元起。",shareImageUrl:a.avatar,shareUrl:a.productUrl})})},init:function(){var a=l.Tools.queryUrl(location.href),t=a.productId,n=this;if(!t)return l.Tools.toast("缺少参数productId");this.getData(t).then(function(a){if("0"==a.code)return l.Tools.toast(a.msg);if(a.data){var t=a.data,e=n.renderHtml(t);s.html(e),n.calData.rate=l.CALC.add(t.annualRate,t.variableAnnualRate||0),n.calData.chargeRate=l.CALC.add(t.baseChargeRate,t.floatChargeRate||0),n.calData.period=t.productPeriod,l.Tools.setTitle(t.productName),n.bindEvent(t)}})}}).init(),function(){var a=navigator.userAgent.toLowerCase(),t=null;(a.indexOf("iphone")>=0||a.indexOf("ipad")>=0)&&document.body.addEventListener("touchend",function(a){var n=(new Date).getTime();t=t||n+1;var e=n-t;if(e<500&&e>0)return a.preventDefault(),!1;t=n},!1)}()},44:function(a,t){}},[356]);