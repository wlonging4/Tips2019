webpackJsonp([12],{350:function(t,e,s){t.exports=s(351)},351:function(t,e,s){"use strict";s(352);var n=s(12),o=function(t){return t&&t.__esModule?t:{default:t}}(n),a=s(6),i=(0,o.default)("#history-list"),r=(0,o.default)(".hot"),l=(0,o.default)(".hotbox");({curPageNum:1,totalPage:1/0,renderHot:function(){var t=this;a.Tools.AJAXTOKEN({url:a.G.base+"/capp/openClassController/topOpenClassList.ason",type:"post"}).then(function(e){if("0"==e.code)return a.Tools.toast(e.msg);var s=e.data;if(s&&s.topOpenClassList&&s.topOpenClassList.length>0){var n=s.topOpenClassList[0],o='<a href="openCourseDetails.html?classId='+n.classId+'"><img src="'+n.adUrl+'" alt="'+n.title+'"></a>';r.html(o),t.setImgHeight(),l.show()}})},getData:function(t){return a.Tools.AJAXTOKEN({url:a.G.base+"/capp/openClassController/openClassList.ason",type:"post",data:{pageNo:t}})},renderHtml:function(t){var e="";return t&&t.length>0&&(e=t.map(function(t){return'<li>\n                    <a href="openCourseDetails.html?classId='+t.classId+'"><img src="'+t.adUrl+'" alt="'+t.title+'"></a>\n                </li>'}).join("")),e},setImgHeight:function(){var t=null,e=void 0;return function(){e?(r.css("max-height",e),(0,o.default)(".history-list li").css("max-height",e)):t=setTimeout(function(){var t=(0,o.default)(".history-list li").outerWidth();e=a.CALC.div(a.CALC.mul(t,100),335),e=parseInt(e),r.css("max-height",e),(0,o.default)(".history-list li").css("max-height",e)},80)}}(),init:function(){var t=this;a.Tools.setTitle("星火公开课"),this.renderHot();var e=new MiniRefresh({container:"#minirefresh",down:{isLock:!0},up:{isAuto:!0,contentover:"松开加载数据",contentrefresh:"正在加载...",contentnomore:"已显示全部",offset:"10",toTop:{isEnable:!1},callback:function(){t.getData(t.curPageNum).then(function(s){if("0"==s.code)return a.Tools.toast(s.msg);var n=s.data,o=t.renderHtml(n.openClassList);t.curPageNum=n.pageNo+1,i.append(o),t.setImgHeight(),n.pageNo<n.totalPage?e.endUpLoading(!1):e.endUpLoading(!0)})}}})}}).init()},352:function(t,e){}},[350]);