function setupWebViewJavascriptBridge(e){if(window.WebViewJavascriptBridge)return e(window.WebViewJavascriptBridge);if(document.addEventListener("WebViewJavascriptBridgeReady",function(){return e(window.WebViewJavascriptBridge)},!1),window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}function getUserInfo(e){setupWebViewJavascriptBridge(function(t){t.registerHandler("xhUserInfoToWeb",function(t,n){var a=t,i=JSON.parse(a),r=i.token,o=i.userId,s=i.managerId;return setCookie("token",r),setCookie("userId",o),setCookie("managerId",s),e(),i})})}function callBackBtnCloseWeb(){setupWebViewJavascriptBridge(function(e){e.callHandler("xhWapGoBack","wapCloseWeb",function(e){})})}function share(e){var t="https://"+window.location.host,n=t+"/mobile/mt/teamRegister.shtml?managerid=111&mobile=",a="诚邀你加入星火金服";setupWebViewJavascriptBridge(function(e){e.callHandler("xhShareSocialPlatform",{shareType:"wx",shareTitle:a,shareContent:"加入星火，让专属理财师为您量身定制理财计划，省心省力",shareImageUrl:"",shareUrl:n},function(e){})})}function wapMobileShare(e){var t={shareType:"all",shareTitle:"",shareContent:"",shareUrl:"",shareImageUrl:""};for(var n in e)if(t[n]=e[n],"shareUrl"===n){var a=window.location.host,i=e.url;i="https://"+a+e[n],t[n]=i}setupWebViewJavascriptBridge(function(e){e.callHandler("xhShareSocialPlatform",t,function(e){})})}function setAppBtn(){setupWebViewJavascriptBridge(function(e){e.callHandler("xhShowButton",{titleBack:"1",titleClose:"0",titleShare:"1"},function(e){})})}function newWebview(e){var t=window.location.host,n=e.url;n="https://"+t+n,setupWebViewJavascriptBridge(function(e){e.callHandler("xhH5GoAppPages",{page:"webview",pageParams:{url:n,login:"1"}},function(e){})})}function shareAppBtnOption(e){var t=window.location.host,n=e.shareTitle,a=e.shareContent,i=e.shareImageUrl,r=e.shareUrl;r="https://"+t+r,setupWebViewJavascriptBridge(function(e){e.callHandler("xhShowButton",{titleTranslate:"0",titleBack:"1",titleClose:"0",titleShare:{shareTitle:n,shareContent:a,shareImageUrl:i,shareUrl:r}},function(e){})})}function xhReqDataHandleFn(e,t){var n={reqDataJson:e,isAes:"0"};setupWebViewJavascriptBridge(function(e){e.callHandler("xhReqDataHandle",n,function(e){"string"!=typeof e&&(e=JSON.stringify(e)),t({data:e})})})}function setWebTitle(e){setupWebViewJavascriptBridge(function(t){t.callHandler("xhWebTitle",e,function(e){})})}function setCookie(e,t){document.cookie=e+"="+escape(t)}function getCookie(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}var publicFun={};publicFun.xhReqDataHandleFn=function(e,t){"string"!=typeof e&&(e=JSON.stringify(e)),xhReqDataHandleFn(e,t)};