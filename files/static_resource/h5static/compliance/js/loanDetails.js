var loanDetails={init:function(e){this.boxObj=e,this.borrowDetails()},dataProcessing:function(e){var o=[{borrowerTypeCode:"借款人类型：",type:""},{borrowerName:"借款人：",type:""},{borrowerIdNumber:"证件号码：",type:""},{corpRegCapital:"注册资本：",type:"1"},{corpRegAddr:"注册地址：",type:"1"},{corpFoundingTime:"成立时间：",type:"1"},{corpRepName:"法定代表人：",type:"1"},{shareholderInfoList:[{shareholderType:"股东类型："},{shareholderName:"股东名称："},{shareholderIdType:"股东证件类型："}],type:"1"},{corpIndustry:"所属行业：",type:"1"},{workCase:"工作性质：",type:"0"},{projectName:"项目名称：",type:""},{projectIntroduce:"项目简介：",type:""},{loanPurpose:"借款用途：",type:""},{loanAmount:"借款金额：",type:""},{loanExpire:"借款期限：",type:""},{loanRatio:"年化利率：",type:""},{relationAmount:"相关费用：",type:""},{valueDate:"起息日：",type:""},{refundType:"还款方式：",type:""},{repaySource:"还款来源：",type:""},{repayGuarantee:"保障措施：",type:""},{projectProgress:"项目撮合进度：",type:""},{borrowerWarn:"出借人适当性管理提示：",type:""},{incomeSource:"收入情况：",type:""},{debtCase:"负债情况：",type:""},{overdueNumber:"在本平台的逾期次数：",type:""},{overdueAmount:"在本平台的逾期总金额：",type:""},{otherReportInfo:"截至借款前6个月内借款人<br />在征信报告中的逾期情况：",type:""},{otherNetloanCase:"在其他网络借贷平台借款情况：",type:""},{otherFinanceCase:"在其他金融机构借款情况：",type:""},{corpCreditInfo:"法定代表人信用信息：",type:"1"},{corpRealCapital:"实缴资本：",type:"1"},{corpOfficeAddr:"办公地点：",type:"1"},{corpManageArea:"经营区域：",type:"1"},{raiseEndTime:"募集期截止日：",type:""}];o=o.filter(0==e.borrowerTypeCode?function(e){return"1"!==e.type}:function(e){return"0"!==e.type});var t=["自然人","法人或其他组织"];e.borrowerTypeCode=t[e.borrowerTypeCode];for(var r=[],a=0;a<o.length;a++)$.each(o[a],function(t,i){if("type"!=t){var n=o[a],p=n[t],l=null==e[t]||""==e[t]?"保密":e[t];if("shareholderInfoList"==t)return 0==e[t].length?(r.push({title:p[0].shareholderType,word:"保密"}),r.push({title:p[1].shareholderName,word:"保密"}),void r.push({title:p[2].shareholderIdType,word:"保密"})):void $.each(l,function(e,o){var t=l[e];r.push({title:p[0].shareholderType,word:t.shareholderType}),r.push({title:p[1].shareholderName,word:t.shareholderName}),r.push({title:p[2].shareholderIdType,word:t.shareholderIdType})});if("loanRatio"!=t&&"projectProgress"!=t||isNaN(l)||(l=(100*parseFloat(l)).toFixed(2)+"%"),"loanAmount"!=t&&"overdueAmount"!=t||isNaN(l)||(l+="元"),"overdueNumber"!=t||isNaN(l)||(l+="次"),"loanExpire"!=t||isNaN(l)||(l+="个月"),"repayGuarantee"==t&&(l='<a href="javascript:void(0);" onclick="loanDetails.agreementConShow()">保障计划</a>'),"relationAmount"==t&&(l="参见《出借信息咨询与服务协议》"),"otherReportInfo"==t&&(l="暂时无法提供<br /><br />"),r.push({title:p,word:l}),"projectProgress"==t){var d=loan.getQueryString("type");"wap"==d?(r.push({title:"合同模板：",word:'参见<a href="/mobile/product/wapProtocol/jiekuanxieyi_0710.shtml">《借款协议》</a>'}),r.push({title:"项目风险评估：",word:'参见<a href="/mobile/product/wapProtocol/fengxianjieshishu_0710.shtml">《风险揭示书》</a>'})):(r.push({title:"合同模板：",word:'参见<a href="/mobile/productProtocolApp.shtml?type=jiekuanxieyi_0710">《借款协议》</a>'}),r.push({title:"项目风险评估：",word:'参见<a href="/mobile/productProtocolApp.shtml?type=fengxianjieshishu_0710">《风险揭示书》</a>'}))}}});return r},borrowDetailsHtml:function(e){var o=this,t=o.dataProcessing(e),r="";return r+="<ul>",$.each(t,function(e,o){r+="<li>",r+='		<div class="tit">'+o.title+"</div>",r+='		<div class="word">'+o.word+"</div>",r+="</li>"}),r+="</ul>"},borrowDetails:function(e){var o=this,t=loan.getQueryString("borrowerid");$.ajax({url:"/webapi/borrowLoans/getBorrowLoansDetail/"+t,type:"get",async:!0,cache:!1,dataType:"JSON",success:function(e){if(loan.loadingHidden(),"1"==e.code){var t=o.borrowDetailsHtml(e.data);o.boxObj.append(t)}else loan.msgDialog(e.msg)},error:function(e){loan.loadingHidden(),loan.msgDialog(e)}})},agreementConShow:function(){var e=loan.getQueryString("type");if("wap"==e){var o=loan.getQueryString("storeCode");if(!o)return void(location.href="/mobile/gologin.shtml")}dialog.show()},getDateTime:function(e){var o=new Date;e=parseInt(e),dateNumData=o,dateNumData.setDate(dateNumData.getDate()+e);var t=dateNumData.getFullYear()+"年"+(parseInt(dateNumData.getMonth())+1)+"月"+dateNumData.getDate()+"日";return t}},dialog={show:function(){$(".dialogBox").show(),$(".ovrly").show()},hide:function(){$(".dialogBox").hide(),$(".ovrly").hide()}};$(document).ready(function(){loanDetails.init($(".loanDetails")),$(".closeBtn").click(function(){dialog.hide()})});