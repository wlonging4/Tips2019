
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="gbk">
    <title>document</title>
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="format-detection" content="telephone=no" />
    <meta content="email=no" name="format-detection" />
    <!-- uc强制竖屏 -->
    <meta name="screen-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <!-- UC强制全屏 -->
    <meta name="full-screen" content="yes">
    <!-- QQ强制全屏 -->
    <meta name="x5-fullscreen" content="true">
    <script>
        var dvcHeight=window.innerHeight;
        if (/Android (\d+\.\d+)/.test(navigator.userAgent)) {
            if (parseFloat(RegExp.$1) > 2.3) {
                var phoneScale = parseInt(window.screen.width) / 1040;
                document.write('<meta name="viewport" content="height='+dvcHeight+', minimum-scale=' + phoneScale + ', maximum-scale=' + phoneScale + ', target-densitydpi=device-dpi" />');
            } else {
                document.write('<meta name="viewport" content="height='+dvcHeight+', target-densitydpi=device-dpi" />');
            }
        } else {
            document.write('<meta name="viewport" content="width=1040,user-scalable=no, target-densitydpi=device-dpi" />');
        }
    </script>
    <style>

        html, body, p, h1, h2, h3, h4, h5, h6, dl, ul, ol, li, dt, dd,figure,figcaption{ margin: 0; padding: 0; }
        html,body{height: 100%;}
        body {-webkit-tap-highlight-color:rgba(0,0,0,0);background:#fafafa;color:#666; font:26px/1.5 "Microsoft YaHei",Arial; -webkit-text-size-adjust: none;}
        ul, ol, li { list-style-type: none; }
        em, i { font-style: normal; }
        a{ color: #fff;text-decoration: none; }
        a img { border: 0 none; }
        img{display:block;}
        table { border-collapse:collapse; border-spacing:0; }
        th,td { padding: 0; }
        .clearfix:after { content: ""; display: block; height: 0; overflow: hidden; clear: both; visibility: hidden; }

        #viewport{/*width:1040px;height:100%;margin:0 auto;overflow:hidden;*/ background: url("http://2.zol-img.com.cn/zt/tm_589/44f1980a0b/11.jpg") no-repeat top center;  }
        @media screen and (orientation: portrait) {
            html{
                width : 100% ;
                height : 100% ;
                background-color: white ;
                overflow : hidden;
            }
            body{
                width : 100% ;
                height : 100% ;
                background-color: red ;
                overflow : hidden;
            }
            #viewport{
                position : absolute ;
                background-color: yellow ;
            }
        }
        @media screen and (orientation: landscape) {
            html{
                width : 100% ;
                height : 100% ;
                background-color: white ;
            }
            body{
                width : 100% ;
                height : 100% ;
                background-color: white ;
            }
            #viewport{
                position : absolute ;
                top : 0 ;
                left : 0 ;
                width : 100% ;
                height : 100% ;
                background-color: yellow ;
            }
        }
        #viewport{
            margin: auto ;
            margin-top : 20px ;
            text-align: center;
        }

    </style>
</head>
<body>

<div id="viewport" class="flipview" data-loop="false">
    <p>来呀来</p>
    <!--<img src="http://2.zol-img.com.cn/zt/tm_589/44f1980a0b/11.jpg" width="1040" height="512">-->
</div>

<script src="http://icon.zol-img.com.cn/wap/js/z.min.js"></script>
<script>
    var width = document.documentElement.clientWidth;
    var height =  document.documentElement.clientHeight;
    if( width < height ){
        console.log(width + " " + height);
        $print =  $('#print');
        $print.width(height);
        $print.height(width);
        $print.css('top',  (height-width)/2 );
        $print.css('left',  0-(height-width)/2 );
        $print.css('transform' , 'rotate(90deg)');
        $print.css('transform-origin' , '50% 50%');
    }

    var evt = "onorientationchange" in window ? "orientationchange" : "resize";

    window.addEventListener(evt, function() {
        console.log(evt);
        var width = document.documentElement.clientWidth;
        var height =  document.documentElement.clientHeight;
        $print =  $('#print');
        if( width > height ){

            $print.width(width);
            $print.height(height);
            $print.css('top',  0 );
            $print.css('left',  0 );
            $print.css('transform' , 'none');
            $print.css('transform-origin' , '50% 50%');
        }
        else{
            $print.width(height);
            $print.height(width);
            $print.css('top',  (height-width)/2 );
            $print.css('left',  0-(height-width)/2 );
            $print.css('transform' , 'rotate(90deg)');
            $print.css('transform-origin' , '50% 50%');
        }

    }, false);
</script>

</body>
</html>